"use strict";(function(){document.addEventListener("DOMContentLoaded",function asciiOnlyOnAccountForms(){var a=document.getElementsByTagName("form");if(a&&!(1>a.length))for(var b=function(b){var c=a[b],d={firstName:{query:"[name=\"address[first_name]\"]",valid:!0},lastName:{query:"[name=\"address[last_name]\"]",valid:!0},company:{query:"[name=\"address[company]\"]",valid:!0},address1:{query:"[name=\"address[address1]\"]",valid:!0},address2:{query:"[name=\"address[address2]\"]",valid:!0},city:{query:"[name=\"address[city]\"]",valid:!0},zip:{query:"[name=\"address[zip]\"]",valid:!0},phone:{query:"[name=\"address[phone]\"]",valid:!0}},e=c.querySelector("[type=\"submit\"]"),f=function(){return!Object.values(d).some(function isInvalid(a){return!a.valid})},g=function(a){a.valid&&(a.valid=!1,e.disabled=!0,e.style.opacity=.6)},h=function(a){a.valid||(a.valid=!0,f()&&(e.disabled=!1,e.style.opacity=1))},i=function(a,b){if(a.valid){b.style.borderColor="red";var c=document.createElement("div");c.innerHTML="Please provide only valid english characters.",c.className="error-message",c.style.position="absolute",c.style.marginTop="6px",c.style.color="red",b.parentNode.appendChild(c)}},j=function(a,b){if(!a.valid){b.style.borderColor="#d9d9d9";var c=b.parentNode.querySelector(".error-message");c&&c.remove()}},k=function(a,b){return function(c){var d=/[^\u0000-\u007f]/;return d.test(c.target.value)?(c.preventDefault(),i(a,b),g(a)):(j(a,b),h(a))}};// Shopify account address input fields
(function asciiOnlyInForm(){Object.values(d).forEach(function(a){var b=c.querySelector(a.query);if(b){var d=k(a,b);b.addEventListener("input",d),b.addEventListener("change",d)}})})()},c=0;c<a.length;c++)b(c)})})();
"use strict";(function(){// Shopify checkout address input fields
var a={firstName:{query:"#checkout_shipping_address_first_name",valid:!0},lastName:{query:"#checkout_shipping_address_last_name",valid:!0},company:{query:"#checkout_shipping_address_company",valid:!0},address1:{query:"#checkout_shipping_address_address1",valid:!0},address2:{query:"#checkout_shipping_address_address2",valid:!0},city:{query:"#checkout_shipping_address_city",valid:!0},zip:{query:"#checkout_shipping_address_zip",valid:!0},phone:{query:"#checkout_shipping_address_phone",valid:!0}},b=document.querySelector("button.step__footer__continue-btn"),c=function(){return!Object.values(a).some(function isInvalid(a){return!a.valid})},d=function(a){a.valid&&(a.valid=!1,b.disabled=!0,b.style.opacity=.6)},e=function(a){a.valid||(a.valid=!0,c()&&(b.disabled=!1,b.style.opacity=1))},f=function(a,b){if(a.valid){b.style.borderColor="red";var c=document.createElement("div");c.innerHTML="Please provide only valid english characters.",c.className="error-message",c.style.marginTop="6px",c.style.color="red",b.parentNode.appendChild(c)}},g=function(a,b){if(!a.valid){b.style.borderColor="#d9d9d9";var c=b.parentNode.querySelector(".error-message");c&&c.remove()}},h=function(a,b){return function(c){var h=/[^\u0000-\u007f]/;return h.test(c.target.value)?(c.preventDefault(),f(a,b),d(a)):(g(a,b),e(a))}};document.addEventListener("DOMContentLoaded",function asciiOnly(){Object.values(a).forEach(function(a){var b=document.querySelector(a.query);if(b){var c=h(a,b);// For address autocomplete automatically filling up city field
b.addEventListener("input",c),b.addEventListener("change",c)}})})})();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hY2NvdW50LmpzIiwiLi4vc3JjL2NoZWNrb3V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJhQUFBLENBQUMsVUFBTSxDQWdKTCxRQUFRLENBQUMsZ0JBQVQsQ0FBMEIsa0JBQTFCLENBL0lnQyxRQUExQixDQUFBLHVCQUEwQixFQUFNLENBQ3BDLEdBQU0sQ0FBQSxDQUFLLENBQUcsUUFBUSxDQUFDLG9CQUFULENBQThCLE1BQTlCLENBQWQsQ0FFQSxHQUFLLENBQUQsSUFBeUIsQ0FBZixDQUFBLENBQUssQ0FBQyxNQUFoQixDQUFKLENBSUEsbUJBQVMsQ0FBVCxLQUNRLENBQUEsQ0FBSSxDQUFHLENBQUssQ0FBQyxDQUFELENBRHBCLENBSVEsQ0FBVyxDQUFHLENBQ2xCLFNBQVMsQ0FBRSxDQUNULEtBQUssQ0FBRSxnQ0FERSxDQUVULEtBQUssR0FGSSxDQURPLENBS2xCLFFBQVEsQ0FBRSxDQUNSLEtBQUssQ0FBRSwrQkFEQyxDQUVSLEtBQUssR0FGRyxDQUxRLENBU2xCLE9BQU8sQ0FBRSxDQUNQLEtBQUssQ0FBRSw2QkFEQSxDQUVQLEtBQUssR0FGRSxDQVRTLENBYWxCLFFBQVEsQ0FBRSxDQUNSLEtBQUssQ0FBRSw4QkFEQyxDQUVSLEtBQUssR0FGRyxDQWJRLENBaUJsQixRQUFRLENBQUUsQ0FDUixLQUFLLENBQUUsOEJBREMsQ0FFUixLQUFLLEdBRkcsQ0FqQlEsQ0FxQmxCLElBQUksQ0FBRSxDQUNKLEtBQUssQ0FBRSwwQkFESCxDQUVKLEtBQUssR0FGRCxDQXJCWSxDQXlCbEIsR0FBRyxDQUFFLENBQ0gsS0FBSyxDQUFFLHlCQURKLENBRUgsS0FBSyxHQUZGLENBekJhLENBNkJsQixLQUFLLENBQUUsQ0FDTCxLQUFLLENBQUUsMkJBREYsQ0FFTCxLQUFLLEdBRkEsQ0E3QlcsQ0FKdEIsQ0F1Q1EsQ0FBa0IsQ0FBRyxDQUFJLENBQUMsYUFBTCxDQUFtQixtQkFBbkIsQ0F2QzdCLENBeUNRLENBQVcsQ0FBRyxVQUFNLENBR3hC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QyxNQUFmLEVBUkYsQ0FVRCxDQWhHSSxDQWtHQyxDQUFnQixDQUFHLFNBQUMsQ0FBRCxDQUFlLENBQWYsUUFDdkIsVUFBQyxDQUFELENBQVcsQ0FDVCxHQUFNLENBQUEsQ0FBUSxDQUFHLGtCQUFqQixDQURTLE1BR0wsQ0FBQSxDQUFRLENBQUMsSUFBVCxDQUFjLENBQUssQ0FBQyxNQUFOLENBQWEsS0FBM0IsQ0FISyxFQUlQLENBQUssQ0FBQyxjQUFOLEVBSk8sQ0FNUCxDQUFhLENBQUMsQ0FBRCxDQUFlLENBQWYsQ0FOTixDQVFBLENBQW9CLENBQUMsQ0FBRCxDQVJwQixHQVdULENBQWdCLENBQUMsQ0FBRCxDQUFlLENBQWYsQ0FYUCxDQWFGLENBQW1CLENBQUMsQ0FBRCxDQWJqQixDQWNWLENBZnNCLENBbEdwQixDQWtJTCxRQUFRLENBQUMsZ0JBQVQsQ0FBMEIsa0JBQTFCLENBZGtCLFFBQVosQ0FBQSxTQUFZLEVBQU0sQ0FDdEIsTUFBTSxDQUFDLE1BQVAsQ0FBYyxDQUFkLEVBQTJCLE9BQTNCLENBQW1DLFNBQUMsQ0FBRCxDQUFrQixDQUNuRCxHQUFNLENBQUEsQ0FBYyxDQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLENBQVksQ0FBQyxLQUFwQyxDQUF2QixDQUVBLEdBQUksQ0FBSixDQUFvQixDQUNsQixHQUFNLENBQUEsQ0FBYSxDQUFHLENBQWdCLENBQUMsQ0FBRCxDQUFlLENBQWYsQ0FBdEMsQ0FHQTtBQURBLENBQWMsQ0FBQyxnQkFBZixDQUFnQyxPQUFoQyxDQUF5QyxDQUF6QyxDQUhrQixDQUtsQixDQUFjLENBQUMsZ0JBQWYsQ0FBZ0MsUUFBaEMsQ0FBMEMsQ0FBMUMsQ0FDRCxDQUNGLENBVkQsQ0FXRCxDQUVELENBQ0QsQ0FuSUQsRyIsImZpbGUiOiJhc2NpaS1vbmx5Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIigoKSA9PiB7XG4gIGNvbnN0IGFzY2lpT25seU9uQWNjb3VudEZvcm1zID0gKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2Zvcm0nKTtcblxuICAgIGlmICghZm9ybXMgfHwgZm9ybXMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZvcm0gPSBmb3Jtc1tpXTtcblxuICAgICAgLy8gU2hvcGlmeSBhY2NvdW50IGFkZHJlc3MgaW5wdXQgZmllbGRzXG4gICAgICBjb25zdCBhZGRyZXNzRm9ybSA9IHtcbiAgICAgICAgZmlyc3ROYW1lOiB7XG4gICAgICAgICAgcXVlcnk6ICdbbmFtZT1cImFkZHJlc3NbZmlyc3RfbmFtZV1cIl0nLFxuICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBsYXN0TmFtZToge1xuICAgICAgICAgIHF1ZXJ5OiAnW25hbWU9XCJhZGRyZXNzW2xhc3RfbmFtZV1cIl0nLFxuICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBjb21wYW55OiB7XG4gICAgICAgICAgcXVlcnk6ICdbbmFtZT1cImFkZHJlc3NbY29tcGFueV1cIl0nLFxuICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBhZGRyZXNzMToge1xuICAgICAgICAgIHF1ZXJ5OiAnW25hbWU9XCJhZGRyZXNzW2FkZHJlc3MxXVwiXScsXG4gICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGFkZHJlc3MyOiB7XG4gICAgICAgICAgcXVlcnk6ICdbbmFtZT1cImFkZHJlc3NbYWRkcmVzczJdXCJdJyxcbiAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgY2l0eToge1xuICAgICAgICAgIHF1ZXJ5OiAnW25hbWU9XCJhZGRyZXNzW2NpdHldXCJdJyxcbiAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgemlwOiB7XG4gICAgICAgICAgcXVlcnk6ICdbbmFtZT1cImFkZHJlc3NbemlwXVwiXScsXG4gICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHBob25lOiB7XG4gICAgICAgICAgcXVlcnk6ICdbbmFtZT1cImFkZHJlc3NbcGhvbmVdXCJdJyxcbiAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGFkZHJlc3NTdWJtaXRCdG5FbCA9IGZvcm0ucXVlcnlTZWxlY3RvcignW3R5cGU9XCJzdWJtaXRcIl0nKTtcblxuICAgICAgY29uc3QgaXNGb3JtVmFsaWQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzSW52YWxpZCA9IChhZGRyZXNzSW5wdXQpID0+ICFhZGRyZXNzSW5wdXQudmFsaWQ7XG5cbiAgICAgICAgcmV0dXJuICFPYmplY3QudmFsdWVzKGFkZHJlc3NGb3JtKS5zb21lKGlzSW52YWxpZCk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBkaXNhYmxlQWRkcmVzc1N1Ym1pdCA9IChhZGRyZXNzSW5wdXQpID0+IHtcbiAgICAgICAgaWYgKCFhZGRyZXNzSW5wdXQudmFsaWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhZGRyZXNzSW5wdXQudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgYWRkcmVzc1N1Ym1pdEJ0bkVsLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgYWRkcmVzc1N1Ym1pdEJ0bkVsLnN0eWxlLm9wYWNpdHkgPSAwLjY7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBlbmFibGVBZGRyZXNzU3VibWl0ID0gKGFkZHJlc3NJbnB1dCkgPT4ge1xuICAgICAgICBpZiAoYWRkcmVzc0lucHV0LnZhbGlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkcmVzc0lucHV0LnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoaXNGb3JtVmFsaWQoKSkge1xuICAgICAgICAgIGFkZHJlc3NTdWJtaXRCdG5FbC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgIGFkZHJlc3NTdWJtaXRCdG5FbC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2V0SW5wdXRFcnJvciA9IChhZGRyZXNzSW5wdXQsIGFkZHJlc3NJbnB1dEVsKSA9PiB7XG4gICAgICAgIGlmICghYWRkcmVzc0lucHV0LnZhbGlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkcmVzc0lucHV0RWwuc3R5bGUuYm9yZGVyQ29sb3IgPSAncmVkJztcblxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlcnJvck1lc3NhZ2VFbC5pbm5lckhUTUwgPSAnUGxlYXNlIHByb3ZpZGUgb25seSB2YWxpZCBlbmdsaXNoIGNoYXJhY3RlcnMuJztcbiAgICAgICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NOYW1lID0gJ2Vycm9yLW1lc3NhZ2UnO1xuICAgICAgICBlcnJvck1lc3NhZ2VFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7IC8vIHRoaXMgaXMgbm90IG9rYXksIGJ1dCBmbG9hdCB3b3VsZCBicmVhayB0aGUgbGF5b3V0XG4gICAgICAgIGVycm9yTWVzc2FnZUVsLnN0eWxlLm1hcmdpblRvcCA9ICc2cHgnO1xuICAgICAgICBlcnJvck1lc3NhZ2VFbC5zdHlsZS5jb2xvciA9ICdyZWQnO1xuXG4gICAgICAgIGFkZHJlc3NJbnB1dEVsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZXJyb3JNZXNzYWdlRWwpO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVtb3ZlSW5wdXRFcnJvciA9IChhZGRyZXNzSW5wdXQsIGFkZHJlc3NJbnB1dEVsKSA9PiB7XG4gICAgICAgIGlmIChhZGRyZXNzSW5wdXQudmFsaWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhZGRyZXNzSW5wdXRFbC5zdHlsZS5ib3JkZXJDb2xvciA9ICcjZDlkOWQ5JztcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSBhZGRyZXNzSW5wdXRFbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1tZXNzYWdlJyk7XG5cbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZUVsKSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlRWwucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHZhbGlkYXRlTm9uTGF0aW4gPSAoYWRkcmVzc0lucHV0LCBhZGRyZXNzSW5wdXRFbCkgPT4gKFxuICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zdCByZm9yZWlnbiA9IC9bXlxcdTAwMDAtXFx1MDA3Zl0vO1xuXG4gICAgICAgICAgaWYgKHJmb3JlaWduLnRlc3QoZXZlbnQudGFyZ2V0LnZhbHVlKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgc2V0SW5wdXRFcnJvcihhZGRyZXNzSW5wdXQsIGFkZHJlc3NJbnB1dEVsKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRpc2FibGVBZGRyZXNzU3VibWl0KGFkZHJlc3NJbnB1dCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVtb3ZlSW5wdXRFcnJvcihhZGRyZXNzSW5wdXQsIGFkZHJlc3NJbnB1dEVsKTtcblxuICAgICAgICAgIHJldHVybiBlbmFibGVBZGRyZXNzU3VibWl0KGFkZHJlc3NJbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGFzY2lpT25seUluRm9ybSA9ICgpID0+IHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhhZGRyZXNzRm9ybSkuZm9yRWFjaCgoYWRkcmVzc0lucHV0KSA9PiB7XG4gICAgICAgICAgY29uc3QgYWRkcmVzc0lucHV0RWwgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYWRkcmVzc0lucHV0LnF1ZXJ5KTtcblxuICAgICAgICAgIGlmIChhZGRyZXNzSW5wdXRFbCkge1xuICAgICAgICAgICAgY29uc3Qgb25JbnB1dFVwZGF0ZSA9IHZhbGlkYXRlTm9uTGF0aW4oYWRkcmVzc0lucHV0LCBhZGRyZXNzSW5wdXRFbCk7XG5cbiAgICAgICAgICAgIGFkZHJlc3NJbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgb25JbnB1dFVwZGF0ZSk7XG4gICAgICAgICAgICAvLyBGb3IgYWRkcmVzcyBhdXRvY29tcGxldGUgYXV0b21hdGljYWxseSBmaWxsaW5nIHVwIGNpdHkgZmllbGRcbiAgICAgICAgICAgIGFkZHJlc3NJbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uSW5wdXRVcGRhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBhc2NpaU9ubHlJbkZvcm0oKTtcbiAgICB9XG4gIH07XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGFzY2lpT25seU9uQWNjb3VudEZvcm1zKTtcbn0pKCk7XG4iLCIoKCkgPT4ge1xuICAvLyBTaG9waWZ5IGNoZWNrb3V0IGFkZHJlc3MgaW5wdXQgZmllbGRzXG4gIGNvbnN0IGFkZHJlc3NGb3JtID0ge1xuICAgIGZpcnN0TmFtZToge1xuICAgICAgcXVlcnk6ICcjY2hlY2tvdXRfc2hpcHBpbmdfYWRkcmVzc19maXJzdF9uYW1lJyxcbiAgICAgIHZhbGlkOiB0cnVlLFxuICAgIH0sXG4gICAgbGFzdE5hbWU6IHtcbiAgICAgIHF1ZXJ5OiAnI2NoZWNrb3V0X3NoaXBwaW5nX2FkZHJlc3NfbGFzdF9uYW1lJyxcbiAgICAgIHZhbGlkOiB0cnVlLFxuICAgIH0sXG4gICAgY29tcGFueToge1xuICAgICAgcXVlcnk6ICcjY2hlY2tvdXRfc2hpcHBpbmdfYWRkcmVzc19jb21wYW55JyxcbiAgICAgIHZhbGlkOiB0cnVlLFxuICAgIH0sXG4gICAgYWRkcmVzczE6IHtcbiAgICAgIHF1ZXJ5OiAnI2NoZWNrb3V0X3NoaXBwaW5nX2FkZHJlc3NfYWRkcmVzczEnLFxuICAgICAgdmFsaWQ6IHRydWUsXG4gICAgfSxcbiAgICBhZGRyZXNzMjoge1xuICAgICAgcXVlcnk6ICcjY2hlY2tvdXRfc2hpcHBpbmdfYWRkcmVzc19hZGRyZXNzMicsXG4gICAgICB2YWxpZDogdHJ1ZSxcbiAgICB9LFxuICAgIGNpdHk6IHtcbiAgICAgIHF1ZXJ5OiAnI2NoZWNrb3V0X3NoaXBwaW5nX2FkZHJlc3NfY2l0eScsXG4gICAgICB2YWxpZDogdHJ1ZSxcbiAgICB9LFxuICAgIHppcDoge1xuICAgICAgcXVlcnk6ICcjY2hlY2tvdXRfc2hpcHBpbmdfYWRkcmVzc196aXAnLFxuICAgICAgdmFsaWQ6IHRydWUsXG4gICAgfSxcbiAgICBwaG9uZToge1xuICAgICAgcXVlcnk6ICcjY2hlY2tvdXRfc2hpcHBpbmdfYWRkcmVzc19waG9uZScsXG4gICAgICB2YWxpZDogdHJ1ZSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGFkZHJlc3NTdWJtaXRCdG4gPSAnYnV0dG9uLnN0ZXBfX2Zvb3Rlcl9fY29udGludWUtYnRuJztcbiAgY29uc3QgYWRkcmVzc1N1Ym1pdEJ0bkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhZGRyZXNzU3VibWl0QnRuKTtcblxuICBjb25zdCBpc0Zvcm1WYWxpZCA9ICgpID0+IHtcbiAgICBjb25zdCBpc0ludmFsaWQgPSAoYWRkcmVzc0lucHV0KSA9PiAhYWRkcmVzc0lucHV0LnZhbGlkO1xuXG4gICAgcmV0dXJuICFPYmplY3QudmFsdWVzKGFkZHJlc3NGb3JtKS5zb21lKGlzSW52YWxpZCk7XG4gIH07XG5cbiAgY29uc3QgZGlzYWJsZUFkZHJlc3NTdWJtaXQgPSAoYWRkcmVzc0lucHV0KSA9PiB7XG4gICAgaWYgKCFhZGRyZXNzSW5wdXQudmFsaWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhZGRyZXNzSW5wdXQudmFsaWQgPSBmYWxzZTtcbiAgICBhZGRyZXNzU3VibWl0QnRuRWwuZGlzYWJsZWQgPSB0cnVlO1xuICAgIGFkZHJlc3NTdWJtaXRCdG5FbC5zdHlsZS5vcGFjaXR5ID0gMC42O1xuICB9O1xuXG4gIGNvbnN0IGVuYWJsZUFkZHJlc3NTdWJtaXQgPSAoYWRkcmVzc0lucHV0KSA9PiB7XG4gICAgaWYgKGFkZHJlc3NJbnB1dC52YWxpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFkZHJlc3NJbnB1dC52YWxpZCA9IHRydWU7XG5cbiAgICBpZiAoaXNGb3JtVmFsaWQoKSkge1xuICAgICAgYWRkcmVzc1N1Ym1pdEJ0bkVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBhZGRyZXNzU3VibWl0QnRuRWwuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldElucHV0RXJyb3IgPSAoYWRkcmVzc0lucHV0LCBhZGRyZXNzSW5wdXRFbCkgPT4ge1xuICAgIGlmICghYWRkcmVzc0lucHV0LnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWRkcmVzc0lucHV0RWwuc3R5bGUuYm9yZGVyQ29sb3IgPSAncmVkJztcblxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZXJyb3JNZXNzYWdlRWwuaW5uZXJIVE1MID0gJ1BsZWFzZSBwcm92aWRlIG9ubHkgdmFsaWQgZW5nbGlzaCBjaGFyYWN0ZXJzLic7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NOYW1lID0gJ2Vycm9yLW1lc3NhZ2UnO1xuICAgIGVycm9yTWVzc2FnZUVsLnN0eWxlLm1hcmdpblRvcCA9ICc2cHgnO1xuICAgIGVycm9yTWVzc2FnZUVsLnN0eWxlLmNvbG9yID0gJ3JlZCc7XG5cbiAgICBhZGRyZXNzSW5wdXRFbC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGVycm9yTWVzc2FnZUVsKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVJbnB1dEVycm9yID0gKGFkZHJlc3NJbnB1dCwgYWRkcmVzc0lucHV0RWwpID0+IHtcbiAgICBpZiAoYWRkcmVzc0lucHV0LnZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYWRkcmVzc0lucHV0RWwuc3R5bGUuYm9yZGVyQ29sb3IgPSAnI2Q5ZDlkOSc7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSBhZGRyZXNzSW5wdXRFbC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1tZXNzYWdlJyk7XG5cbiAgICBpZiAoZXJyb3JNZXNzYWdlRWwpIHtcbiAgICAgIGVycm9yTWVzc2FnZUVsLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB2YWxpZGF0ZU5vbkxhdGluID0gKGFkZHJlc3NJbnB1dCwgYWRkcmVzc0lucHV0RWwpID0+IChcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHJmb3JlaWduID0gL1teXFx1MDAwMC1cXHUwMDdmXS87XG5cbiAgICAgIGlmIChyZm9yZWlnbi50ZXN0KGV2ZW50LnRhcmdldC52YWx1ZSkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBzZXRJbnB1dEVycm9yKGFkZHJlc3NJbnB1dCwgYWRkcmVzc0lucHV0RWwpO1xuXG4gICAgICAgIHJldHVybiBkaXNhYmxlQWRkcmVzc1N1Ym1pdChhZGRyZXNzSW5wdXQpO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVJbnB1dEVycm9yKGFkZHJlc3NJbnB1dCwgYWRkcmVzc0lucHV0RWwpO1xuXG4gICAgICByZXR1cm4gZW5hYmxlQWRkcmVzc1N1Ym1pdChhZGRyZXNzSW5wdXQpO1xuICAgIH1cbiAgKTtcblxuICBjb25zdCBhc2NpaU9ubHkgPSAoKSA9PiB7XG4gICAgT2JqZWN0LnZhbHVlcyhhZGRyZXNzRm9ybSkuZm9yRWFjaCgoYWRkcmVzc0lucHV0KSA9PiB7XG4gICAgICBjb25zdCBhZGRyZXNzSW5wdXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWRkcmVzc0lucHV0LnF1ZXJ5KTtcblxuICAgICAgaWYgKGFkZHJlc3NJbnB1dEVsKSB7XG4gICAgICAgIGNvbnN0IG9uSW5wdXRVcGRhdGUgPSB2YWxpZGF0ZU5vbkxhdGluKGFkZHJlc3NJbnB1dCwgYWRkcmVzc0lucHV0RWwpO1xuXG4gICAgICAgIGFkZHJlc3NJbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgb25JbnB1dFVwZGF0ZSk7XG4gICAgICAgIC8vIEZvciBhZGRyZXNzIGF1dG9jb21wbGV0ZSBhdXRvbWF0aWNhbGx5IGZpbGxpbmcgdXAgY2l0eSBmaWVsZFxuICAgICAgICBhZGRyZXNzSW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbklucHV0VXBkYXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgYXNjaWlPbmx5KTtcbn0pKCk7XG4iXX0=